<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Productos La Gran Fortuna</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
  </head>
  <body>
    <header>
      <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
      <div class="header-content">
        <div class="logo-circle">F</div>
        <div class="header-text">
          <h1>La Granfortuna</h1>
          <p>Sistema de Gesti√≥n de Productos</p>
        </div>
      </div>
    </header>

    <nav class="mobile-nav" id="mobileNav">
      <ul>
        <li><a href="#">Inicio</a></li>
        <li><a href="#productos">Productos</a></li>
        <li><a href="#contacto">Contacto</a></li>
      </ul>
    </nav>

    <main>
      <section class="tabla-section" id="productos">
        <div class="productos-header">
          <div class="header-info">
            <div class="logo-confiteria">
              <img
                src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-UlwXu5exLWtCN5ygPxClO74gy5uGxG.png"
                alt="Confiter√≠a La Gran Fortuna"
                class="confiteria-logo"
              />
            </div>
            <div class="title-section">
              <h2 id="categoria-titulo">L√çNEA DE FRITOLAY Y DEMÔøΩÔøΩS MEKATOS</h2>
              <p>Gesti√≥n de inventario y precios</p>
            </div>
          </div>
          <div class="mes-badge" id="mesBadge" onclick="editMes()">
            JUNIO 2025
          </div>
        </div>

        <div class="controles">
          <div class="categoria-selector">
            <label for="categorySelect">Categor√≠a:</label>
            <select id="categorySelect" onchange="changeCategory(this.value)">
              <option value="fritolay">Fritolay</option>
              <option value="dulceria">Dulcer√≠a</option>
              <option value="licores">Licores</option>
              <option value="cerveza">Cerveza</option>
              <option value="galleteria">Galleter√≠a</option>
              <option value="lacteos">L√°cteos y C√°rnicos</option>
              <option value="gaseosas">Gaseosas y Jugos</option>
              <option value="aseo">L√≠nea de Aseo</option>
              <option value="enlatados">Enlatados</option>
              <option value="salsas">Salsas y Mermeladas</option>
              <option value="medicamentos">L√≠nea de Medicamentos</option>
              <option value="cigarros">L√≠nea de Cigarros</option>
              <option value="chocolatinas">
                Chocolates, Chocolatinas y Arequipes
              </option>
              <option value="tortasponques">Tortas y Ponques</option>
              <option value="cafechocolate">Caf√© y Chocolate</option>
              <option value="galletasnavidenas">L√≠nea Navide√±a</option>
              <option value="vasos">Vasos</option>
              <option value="bolsas">L√≠nea de Bolsas</option>
              <option value="varios">L√≠nea de Varios</option>
              <option value="contenedores">L√≠nea de Contenedores</option>
              <option value="pitillospalillos">
                Pitillos, Palillos y Platos
              </option>
            </select>
          </div>

          <div class="acciones">
            <button class="edit-toggle" onclick="toggleEdit()">
              <span class="edit-icon">‚úèÔ∏è</span>
              Activar Edici√≥n
            </button>
            <button class="order-toggle" onclick="toggleOrder()">
              <span class="order-icon">üõí</span>
              Agregar Pedido
              <span id="orderCounter" class="order-counter">0</span>
            </button>
            <button id="addBtn" onclick="addRow()" style="display: none">
              ‚ûï Agregar Producto
            </button>
            <button
              id="downloadBtn"
              onclick="downloadPDF()"
              style="display: none"
              class="download-btn"
            >
              <span class="download-icon">üìÑ</span>
              Descargar PDF
            </button>
            <button
              id="saveBtn"
              onclick="saveData()"
              style="display: none"
              class="save-btn"
            >
              <span class="save-icon">üíæ</span>
              GUARDAR CAMBIOS
            </button>
            <button
              id="finalizarPedidoBtn"
              onclick="finalizarPedido()"
              style="display: none"
              class="finalize-order-btn"
            >
              <span class="finalize-icon">‚úÖ</span>
              Finalizar Pedido
            </button>
            <button
              id="verPedidoBtn"
              onclick="verPedido()"
              style="display: none"
              class="view-order-btn"
            >
              <span class="view-icon">üëÅÔ∏è</span>
              Ver Pedido
            </button>
          </div>
        </div>

        <div class="tabla-contenedor">
          <table id="productTable">
            <thead>
              <tr>
                <th>ITEM</th>
                <th>PRODUCTO</th>
                <th>DESCRIPCI√ìN</th>
                <th>PRECIO</th>
                <th id="cantidadHeader" style="display: none">CANTIDAD</th>
                <th id="accionesHeader" style="display: none">ACCIONES</th>
              </tr>
            </thead>
            <tbody>
              <!-- Productos se agregan por JavaScript -->
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 Confiter√≠a La Gran Fortuna</p>
    </footer>

    <!-- Firebase -->
<!-- Firebase -->
<script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js'; 
  import { getDatabase, ref, set, onValue } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js'; 

  const firebaseConfig = {
    apiKey: "AIzaSyCMY61pvdBJK64evqkahcgEeHFjyAFLRAY",
    authDomain: "confiterialagranfortuna-9bf2b.firebaseapp.com",
    projectId: "confiterialagranfortuna-9bf2b",
    storageBucket: "confiterialagranfortuna-9bf2b.firebasestorage.app",
    messagingSenderId: "13474874852",
    appId: "1:13474874852:web:4d1f97d6074b44bda073f1"
  };

  // Inicializar Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Funci√≥n para guardar en Firebase
  window.saveToFirebase = function(data) {
    set(ref(db, 'inventario'), data);
  }

  // Funci√≥n para cargar desde Firebase
  window.loadFromFirebase = function(callback) {
    onValue(ref(db, 'inventario'), (snapshot) => {
      callback(snapshot.val());
    });
  }
</script>

    <script src="main.js"></script>
  </body>
</html>
